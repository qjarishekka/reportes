---
## Front matter
title: "Шаблон отчёта по лабораторной работе №11"
subtitle: "Текстовой редактор emacs"
author: "Кхари Жекка Кализая Арсе"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Познакомиться с операционной системой Linux. Получить практические навыки рабо-
ты с редактором Emacs.
# Задание

реализовать несколько действий в редакторе Emacs.

1. Открыть emacs.
2. Создать файл lab07.sh с помощью комбинации Ctrl-x Ctrl-f (C-x C-f).
3. Наберите текст:

            #!/bin/bash
            HELL=Hello
            function hello {
            LOCAL HELLO=World
            echo $HELLO
            }
            echo $HELLO
            hello

4. Сохранить файл с помощью комбинации Ctrl-x Ctrl-s (C-x C-s).
5. Проделать с текстом стандартные процедуры редактирования, каждое действие долж-
но осуществляться комбинацией клавиш.
   1. Вырезать одной командой целую строку (С-k).
   2. Вставить эту строку в конец файла (C-y).
   3. Выделить область текста (C-space).
   4. Скопировать область в буфер обмена (M-w).
   5. Вставить область в конец файла.
   6. Вновь выделить эту область и на этот раз вырезать её (C-w).
   7. Отмените последнее действие (C-/).
6. Научитесь использовать команды по перемещению курсора.
   1. Переместите курсор в начало строки (C-a).
   2. Переместите курсор в конец строки (C-e).
   3. Переместите курсор в начало буфера (M-<).
   4. Переместите курсор в конец буфера (M->).
7. Управление буферами.
   1. Вывести список активных буферов на экран (C-x C-b).
   2. Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер.
   3. Закройте это окно (C-x 0).
   4. Теперь вновь переключайтесь между буферами, но уже без вывода их списка на экран (C-x b).
8. Управление окнами.
   1. Поделите фрейм на 4 части: разделите фрейм на два окна по вертикали (C-x 3), а затем каждое из этих окон на две части по горизонтали (C-x 2) (см. рис. 9.1).
   2. В каждом из четырёх созданных окон откройте новый буфер (файл) и введите несколько строк текста.
9. Режим поиска
   1. Переключитесь в режим поиска (C-s) и найдите несколько слов, присутствующих в тексте.
   2. Переключайтесь между результатами поиска, нажимая C-s.
   3. Выйдите из режима поиска, нажав C-g.
   4. Перейдите в режим поиска и замены (M-%), введите текст, который следует найти и заменить, нажмите Enter , затем введите текст для замены. После того как будут подсвечены результаты поиска, нажмите ! для подтверждения замены.
   5. Испробуйте другой режим поиска, нажав M-s o. Объясните, чем он отличается от обычного режима?




# Теоретическое введение

Emacs представляет собой мощный экранный редактор текста, написанный на языке
высокого уровня Elisp.


## Основные термины Emacs

**Определение 1.** Буфер — объект, представляющий какой-либо текст.

Буфер может содержать что угодно, например, результаты компиляции программы или встроенные подсказки. Практически всё взаимодействие с пользователем, в том числе интерактивное, происходит посредством буферов.

**Определение 2.** Фрейм соответствует окну в обычном понимании этого слова. Каждый фрейм содержит область вывода и одно или несколько окон Emacs.

**Определение 3.** Окно — прямоугольная область фрейма, отображающая один из буферов.

Каждое окно имеет свою строку состояния, в которой выводится следующая информация: название буфера, его основной режим, изменялся ли текст буфера и как далеко вниз по буферу расположен курсор. Каждый буфер находится только в одном из возможных основных режимов. Существующие основные режимы включают режим Fundamental (наименее специализированный), режим Text, режим Lisp, режим С, режим Texinfo и другие. Под второстепенными режимами понимается список режимов, которые включены в данный момент в буфере выбранного окна.

**Определение 4.** Область вывода — одна или несколько строк внизу фрейма, в которой Emacs выводит различные сообщения, а также запрашивает подтверждения и дополнительную информацию от пользователя.

**Определение 5.** Минибуфер используется для ввода дополнительной информации и всегда отображается в области вывода.

**Определение 6.** Точка вставки — место вставки (удаления) данных в буфере.

## Основы работы в Emacs

Для запуска Emacs необходимо в командной строке набрать emacs (или emacs & для работы в фоновом режиме относительно консоли). 

Для работы с Emacs можно использовать как элементы меню, так и различные сочетания клавиш. Например, для выхода из Emacs можно воспользоваться меню File и выбрать пункт Quit , а можно нажать последовательно Ctrl-x Ctrl-c (в обозначениях Emacs: C-x C-c).

Многие рутинные операции в Emacs удобнее производить с помощью клавиатуры, а не графического меню. Наиболее часто в командах Emacs используются сочетания c клавишами Ctrl и Meta (в обозначениях Emacs: C- и M-; клавиша Shift в Emasc обозначается как S-). Так как на клавиатуре для IBM PC совместимых ПК клавиши Meta нет, то вместо неё можно использовать Alt или Esc . Для доступа к системе меню используйте клавишу F10 .

Клавиши Ctrl , Meta и Shift принято называть префиксными. Например, запись M-x означает, что надо удерживая клавишу Meta (или Alt ), нажать на клавишу x. Для открытия файла следует использовать команду C-x C-f (надо, удерживая клавишу Ctrl , нажать на клавишу x , затем отпустить обе клавиши и снова, удерживая клавишу Ctrl , нажать на клавишу f ).

По назначению префиксные сочетания клавиш различаются следующим образом:

- C-x — префикс ввода основных команд редактора (например, открытия, закрытии, сохранения файла и т.д.);
- C-c — префикс вызова функций, зависящих от используемого режима.

**Определение 7.** Режим — пакет расширений, изменяющий поведение буфера Emacs при редактировании и просмотре текста (например, для редактирования исходного текста программ на языках С или Perl).

В табл. [-@tbl:std-dir1] приведены основные комбинации клавиш, используемые для перемещения курсора в буфере Emacs (также работают и обычные навигационные клавиши, например, стрелки).

: Основные комбинации клавиш для перемещения курсора в буфере Emacs {#tbl:std-dir1}

| Комбинация клавиш | Действие                              |
|-------------------|---------------------------------------|
| C-p               | переместиться вверх на одну строку    |
| C-n               | переместиться вниз на одну строку     |
| C-f               | переместиться вперёд на один символ   |
| C-b               | переместиться назад на один символ    |
| C-a               | переместиться в начало строки         |
| C-e               | переместиться в конец строки          |
| C-v               | переместиться вниз на одну страницу   |
| M-v               | переместиться вверх на одну страницу  |
| M-f               | переместиться вперёд на одно слово    |
| M-b               | переместиться назад на одно слово     |
| M-<               | переместиться в начало буфера         |
| M->               | переместиться в конец буфера          |
| C-g               | закончить текущую операцию            |


Далее в табл. [-@tbl:std-dir2] – [-@tbl:std-dir7] приведены наиболее часто используемые комбинации клавиш
для выполнения действий в Emacs.


: Основные комбинации клавиш для работы с текстом в Emacs {#tbl:std-dir2}


| Комбинация клавиш | Действие                                                                  |
|-------------------|---------------------------------------------------------------------------|
| C-d               | Удалить символ перед текущим положением курсора                           |
| M-d               | Удалить следующее за текущим положением курсора слово                     |
| C-k               | Удалить текст от текущего положения курсора до конца строки               |
| M-k               | Удалить текст от текущего положения курсора до конца предложения          |
| M-\               | Удалить все пробелы и знаки табуляции вокруг текущего положения курсора   |
| C-q               | Вставить символ, соответствующий нажатой клавише или сочетанию            |
| M-q               | Выровнять текст в текущем параграфе буфера                                |



: Основные комбинации клавиш для работы с выделенной областью текста в Emacs {#tbl:std-dir3}

| Комбинация клавиш | Действие                                                      |
|-------------------|---------------------------------------------------------------|
| C-space           | Начать выделение текста с текущего положения курсора          |
| C-w               | Удалить выделенную область текста в список удалений           |
| M-w               |  Скопировать выделенную область текста в список удалений      |
| C-y               | Вставить текст из списка удалений в текущую позицию курсора   |
| M-y               | Последовательно вставить текст из списка удалений             |
| M-\               | Выровнять строки выделенной области текста                    |


## Регулярные выражения


При работе с командами Emacs можно использовать регулярные выражения (табл.[-@tbl:std-dir8]).

Основные отличия от PCRE (Perl Compatible Regular Expressions — библиотека регулярных выражений в стиле Perl):
- `\s` не задаёт пробел;
- `\t` не задаёт табуляцию;
- операция «или» и скобки группировки экранируются.


: Основные комбинации клавиш для поиска и замены в Emacs {#tbl:std-dir4}

| Комбинация клавиш | Действие                                                    |
|-------------------|-------------------------------------------------------------|
| C-s               | текст поиска Поиск текста в прямом направлении              |
| C-r               | текст поиска Поиск текста в обратном направлении            |
| M-%               | Поиск текста и его замена с запросом (что на что заменить)  |


: Основные комбинации клавиш для работы с файлами, буферами и окнами в Emacs {#tbl:std-dir5}

| Комбинация клавиш | Действие                                                          |
|-------------------|-------------------------------------------------------------------|
| C-x C-f           | Открыть файл                                                      |
| C-x C-s           | Сохранить текст в буфер                                           |
| C-x C-b           | Отобразить список открытых буферов в новом окне                   |
| C-x b             | Переключиться в другой буфер в текущем окне                       |
| C-x i             | Вставить содержимое файла в буфер в текущую позицию курсора       |
| C-x 0             | Закрыть текущее окно (при этом буфер не удаляется)                |
| C-x 1             | Закрыть все окна кроме текущего                                   |
| C-x 2             | Разделить окно по горизонтали                                     |
| C-x o             | Перейти в другое окно                                             |



: Основные комбинации клавиш для работы со справкой в Emacs {#tbl:std-dir6}

| Комбинация клавиш | Действие                                                                  |
|-------------------|---------------------------------------------------------------------------|
| C-h ?             | Показать информацию по работе со справочной системой                      |
| C-h t             | Вызвать интерактивный учебник                                             |
| C-h f             | Показать информацию по функции                                            |
| C-h v             | Показать информацию по переменной                                         |
| C-h k             | Показать информацию по действию комбинации клавиш                         |
| C-h a             | Выполнить поисковый запрос в справке по строке или регулярному выражению  |
| C-h F             | Вызвать Emacs FAQ                                                         |
| C-h i             | Показать документацию по Emacs (Info)                                     |


: Прочие комбинации клавиш, используемые в Emacs {#tbl:std-dir7}

| Комбинация клавиш | Действие                                          |
|-------------------|---------------------------------------------------|
| C-\               | Переключить язык                                  |
| M-x               | command Выполнить команду Emacs с именем command  |
| C-x u             | Отменить последнюю операцию                       |



: Регулярные выражения в Emacs {#tbl:std-dir8}

|||
|-----------------|-------------------------------------------------------|
| Ctrl-q Ctrl-j   | новая строка                                          |
| Ctrl-q          | табуляция                                             |
| `.`             | любой знак кроме новой строки                         |
| `*`             | повторение предыдущего 0–n раз, жадное                |
| `+`             | повторение предыдущего 1–n раз, жадное                |
| `?`             | повторение предыдущего 0–1 раз, жадное                |
| `*?, +?, ??`    | аналогично предыдущим, ленивые                        |
| `[ …]`          | набор символов, ^ в начале строки — «не эти символы»  |
| `^`             | начало строки                                         |
| `$`             | конец строки                                          |
| `\|`            | или                                                   |
| `\(…\)`         | группировка                                           |
| `\b`            | граница слова                                         |
| `\B`            | не граница слова                                      |
| `\w`            | буквенный символ                                      |
| `\W`            | небуквенный символ                                    |
| `\1`            | ссылка на первую группу                               |



Более подробно про Unix см. в [@tanenbaum_book_modern-os_ru; @robbins_book_bash_en; @zarrelli_book_mastering-bash_en; @newham_book_learning-bash_en].

# Выполнение лабораторной работы

В этой лабораторной работе я решил заданные задачи 

1. Открыть emacs.

Чтобы открыт emacs я выполнил следующую команду в терминале, в моем случае я открыл его в фоновом режиме (рис. [-@fig:001]).

            emacs &
    
![Задание 1](image/imagen1.png){#fig:001 width=70%}





2. Создать файл lab07.sh с помощью комбинации Ctrl-x Ctrl-f (C-x C-f).

я нажал те клавиши и написал lab07.sh и enter (рис. [-@fig:002]).

![Задание 2](image/imagen2.png){#fig:002 width=70%}





3. Наберите текст:

            #!/bin/bash
            HELL=Hello
            function hello {
            LOCAL HELLO=World
            echo $HELLO
            }
            echo $HELLO
            hello

я копировал из текста как обычно но чтобы вставить его в emacs я нажал Ctrl-u. (рис. [-@fig:003]).

![Задание 3](image/imagen3.png){#fig:003 width=70%}




4. Сохранить файл с помощью комбинации Ctrl-x Ctrl-s (C-x C-s).

Здесь я просто нажал те клавиши (рис. [-@fig:004]).

![Задание 4 ](image/imagen4.png){#fig:004 width=70%}





5. Проделать с текстом стандартные процедуры редактирования, каждое действие должно осуществляться комбинацией клавиш.
   1. Вырезать одной командой целую строку (С-k).
   
   Нажимая Ctrl-k я вырезал строку (рис. [-@fig:005]).

![Задание 5.1](image/imagen5.png){#fig:005 width=70%}



   2. Вставить эту строку в конец файла (C-y)
   
   Я двигался в конец текста и нажал Ctrl-y (рис. [-@fig:006]).
   
![Задание5.2](image/imagen6.png){#fig:006 width=70%}
   
   
   
   
   3. Выделить область текста (C-space).
   
   я нажал Сtrl-space и двигался курсор в конце (рис. [-@fig:007]).

![Задание5.3](image/imagen7.png){#fig:007 width=70%}



   4. Скопировать область в буфер обмена (M-w).
   
   выделив область текста я нажал Alt-w
   
   5. Вставить область в конец файла.
   
   после того как я скопировал текст я вставил его в конце текста (рис. [-@fig:008]).
   
![Задание 5.5](image/imagen8.png){#fig:008 width=70%}
   
   
   
   
   6. Вновь выделить эту область и на этот раз вырезать её (C-w).
   
   Так, как я сделал раньше я выделил текст и вырезал его нажимая Ctrl-w (рис. [-@fig:009]).
   
![Задание 5.6](image/imagen9.png){#fig:009 width=70%}



   7. Отмените последнее действие (C-/).
   
   Я нажал Ctrl-x u и текст еще раз появился (рис. [-@fig:010]).
   
![Задание 5.7](image/imagen10.png){#fig:010 width=70%}



6. Научитесь использовать команды по перемещению курсора.
   1. Переместите курсор в начало строки (C-a).
   
   Я нажал Ctrl-a и курсор двигался в начало строки (рис. [-@fig:011]).

![Задание 6.1](image/imagen11.png){#fig:011 width=70%}



   2. Переместите курсор в конец строки (C-e).
   
   Потом я нажал Ctrl-e и курсор двигался в конец строки (рис. [-@fig:012]).

![Задание 6.2](image/imagen12.png){#fig:012 width=70%}




   3. Переместите курсор в начало буфера (M-<)
   
   Здесь я не нажал alt-<. потому что эта команда не работала. вместо её я нажал Ctrl-home (рис. [-@fig:013]).

![Задание 6.3](image/imagen13.png){#fig:013 width=70%}



   4. Переместите курсор в конец буфера (M->).
   
   Здесь я тоже не использовал ту команду и я нажал Ctrl-end (рис. [-@fig:014]).

![Задание 6.4](image/imagen14.png){#fig:014 width=70%}


7. Управление буферами.
   1. Вывести список активных буферов на экран (C-x C-b).
   
   Я нажал те клавиши и появился список активных буферов (рис. [-@fig:015]).

![Задание 7.1](image/imagen15.png){#fig:015 width=70%}




   2. Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер.
   
   Я переносил курсор в новый список и переключился на другой буфер (рис. [-@fig:016.1]) (рис. [-@fig:016.2]).

![Задание 7.2](image/imagen16.1.png){#fig:016.1 width=70%}

![Задание 7.2](image/imagen16.2.png){#fig:016.2 width=70%}




   3. Закройте это окно (C-x 0)
   
   Это новое окно закрылся когда я нажал Ctrl-x 0. (рис. [-@fig:017]).
   
![Задание 7.3](image/imagen17.png){#fig:017 width=70%}




   4. Теперь вновь переключайтесь между буферами, но уже без вывода их списка на экран (C-x b).
   
   Здесь я вновь открыл тот список и переключался (рис. [-@fig:018]).
   
![Задание 7.4](image/imagen18.png){#fig:018 width=70%}
   



8. Управление окнами.

   1. Поделите фрейм на 4 части: разделите фрейм на два окна по вертикали (C-x 3), а затем каждое из этих окон на две части по горизонтали (C-x 2) (см. рис. 9.1).
   
   Я поделил фейм на 4 части. я нажал Ctrl-x 3 Потом Ctrl-x 2 Затем Ctrl-x o и вновь Ctrl-x 2. (рис. [-@fig:019]).

![Задание 8.1](image/imagen19.png){#fig:019 width=70%}




   2. В каждом из четырёх созданных окон откройте новый буфер (файл) и введите несколько строк текста.
   
   Здесь я нажал Ctrl-x Ctrl-b и открыл любой файл. потом я переместил в другой окно и сделал то же действие (рис. [-@fig:020]).

![Задание 8.2](image/imagen20.png){#fig:020 width=70%}




9. Режим поиска

   1. Переключитесь в режим поиска (C-s) и найдите несколько слов, присутствующих в тексте.
   
   Я нажал Ctrl-s и написал "hola" и нашел одно совпадение (рис. [-@fig:021.1]).
   
![Задание 9.1](image/imagen21.1.png){#fig:021.1 width=70%}



   2. Переключайтесь между результатами поиска, нажимая C-s.
   
   Потом я написал другие слова в буфере и еще раз искал слово и потом я передвигался по словам нажимая Ctrl-s (рис. [-@fig:021.2]).

![Задание 9.2](image/imagen21.2.png){#fig:021.2 width=70%}



   3. Выйдите из режима поиска, нажав C-g.
   
   Здесь я просто нажал Ctrl-g (рис. [-@fig:022]).
   
![Задание 9.3](image/imagen22.png){#fig:022 width=70%}



   4. Перейдите в режим поиска и замены (M-%), введите текст, который следует найти и заменить, нажмите Enter , затем введите текст для замены. После того как будут подсвечены результаты поиска, нажмите ! для подтверждения замены.


   Я не смог использовать клавишасочетание потому что у моей клавиатуры нет клавиши % отдельно и команда не работает тогда я использовал меню опции и сделал замену (рис. [-@fig:023]).

![Задание 9.4](image/imagen23.png){#fig:023 width=70%}

   5. Испробуйте другой режим поиска, нажав M-s o. Объясните, чем он отличается от обычного режима?
   
   На конце концов я нажал alt-s o и появилось окно (рис. [-@fig:024]). эта опция отличается в чем что мы можем смотреть какие слова и где сделалась отмена
 
![Задание 9.5](image/imagen24.png){#fig:024 width=70%}

## Контрольные вопросы

1. Кратко охарактеризуйте редактор emacs.

Ctrl-x Ctrl-s

2. Какие особенности данного редактора могут сделать его сложным для освоения новичком?

По-моему количество сочетаний может сделать его сложным для освоения новичком.

3. Своими словами опишите, что такое буфер и окно в терминологии emacs’а.

Они как файл текста в котором можно написать и исправить.

4. Можно ли открыть больше 10 буферов в одном окне?

Да можно но это сложный и трудно для работы там

5. Какие буферы создаются по умолчанию при запуске emacs?

Создаются Scracht, GNU Emacs, Messages и Async-native-compile

6. Какие клавиши вы нажмёте, чтобы ввести следующую комбинацию C-c | и C-c C-|?

Я нажму Ctrl и С и | потом Ctrl и C и Ctrl и |

7. Как поделить текущее окно на две части?

Можно поделить нажимая любо Ctrl-x 3 либо Ctrl-x 2

8. В каком файле хранятся настройки редактора emacs?



9. Какую функцию выполняет клавиша и можно ли её переназначить?

Они выполняет действие и да, они могут переназначиться


10. Какой редактор вам показался удобнее в работе vi или emacs? Поясните почему

Я думаю что emcas удобнее потому что мы можем использовать другие окна и у нас сочетания клавиш для выстрой работы.





# Выводы

В этой лабораторной работе я смотреть сочетание клавиш и как исправит текст буфера в emacs.

# Список литературы{.unnumbered}

::: {#refs}
:::
